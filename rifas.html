<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rifas - Nexos</title>
    <link rel="icon" href="images/favicon.svg?v=2" type="image/svg+xml">
    <link rel="shortcut icon" href="images/favicon.svg?v=2" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <nav class="navbar">
            <a href="index.html" class="logo">
                <i class="fas fa-heart"></i>
                <span>Nexos</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="subastas.html">Subastas</a></li>
                <li><a href="rifas.html" class="active">Rifas</a></li>
                <li><a href="ventas.html">Ventas</a></li>
                <li><a href="causas.html">Causas</a></li>
                <li><a href="empresas.html">Empresas</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
            <button class="cta-button" id="navAuthButton">Iniciar SesiÃ³n</button>
        </nav>
    </header>

    <section class="hero" style="padding: 3rem 5%; min-height: 300px;">
        <div class="hero-content">
            <h1>Todas las Rifas</h1>
            <p>Compra boletos y participa por increÃ­bles premios mientras apoyas causas benÃ©ficas</p>
        </div>
    </section>

    <main>
        <section class="trending-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; padding: 0 2rem;">
                <h2 class="section-title" style="margin: 0;">Rifas Activas ðŸŽ²</h2>
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <input type="text" id="searchInput" placeholder="ðŸ” Buscar rifas..." 
                        style="padding: 0.8rem; border: 2px solid #e0e0e0; border-radius: 25px; width: 300px; font-size: 0.95rem;">
                    <select id="filterEstado" style="padding: 0.8rem; border: 2px solid #e0e0e0; border-radius: 25px; font-size: 0.95rem; cursor: pointer;">
                        <option value="todas">Todas las rifas</option>
                        <option value="activa">Activas</option>
                        <option value="proxima">PrÃ³ximas</option>
                        <option value="finalizada">Finalizadas</option>
                    </select>
                </div>
            </div>

            <div class="auctions-grid" id="rifas-lista">
                <!-- Las rifas se cargan dinÃ¡micamente desde el backend -->
                <div class="loading-spinner" style="text-align: center; padding: 3rem; grid-column: 1/-1;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 3rem; color: var(--primary);"></i>
                    <p>Cargando rifas...</p>
                </div>
            </div>

            <div id="emptyState" style="display: none; text-align: center; padding: 4rem 2rem;">
                <i class="fas fa-ticket-alt" style="font-size: 5rem; color: #ddd; margin-bottom: 1rem;"></i>
                <h3 style="color: #999; margin-bottom: 0.5rem;">No hay rifas disponibles</h3>
                <p style="color: #bbb;">Vuelve pronto para ver nuevas rifas</p>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="logo">
                <i class="fas fa-heart"></i>
                <span>Nexos</span>
            </div>
            <p>Conectando empresas con causas que transforman vidas</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
            <p class="copyright">Â© 2025 Nexos. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="notifications.js"></script>
    <script src="api-config.js"></script>
    <script src="auth-backend.js"></script>
    <script src="wallet-manager.js"></script>
    <script src="rifas-manager.js"></script>
    <script src="navbar-helper.js"></script>
    <script>
        // Cargar rifas al iniciar
        async function inicializarRifas() {
            await rifasManager.cargarRifasEnPagina({ estado: 'activa' });
        }

        // Event listeners para filtros
        document.getElementById('searchInput')?.addEventListener('input', () => {
            rifasManager.filtrarRifas();
        });

        document.getElementById('filterEstado')?.addEventListener('change', () => {
            rifasManager.filtrarRifas();
        });

        inicializarRifas();
    </script>
</body>
</html>